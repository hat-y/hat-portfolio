<header>
  <app-header></app-header>
</header>

<!-- Overlay para ventanas maximizadas -->
<div class="window-overlay"
     *ngIf="showOverlay()"
     [style.z-index]="500"
     [style.pointer-events]="'none'"
     aria-hidden="true">
</div>

<!-- Región principal para ventanas -->
<!-- Mostrar ventanas según estado open y minimized -->
@for (tab of tabs(); track tab.id) {
  <app-window
    [windowId]="tab.id"
    [title]="tab.title"
    [windowTop]="tab.maximized ? maximizedWindowProps().top : (windowPositions().get(tab.id)?.top ?? 100) + 'px'"
    [windowLeft]="tab.maximized ? maximizedWindowProps().left : (windowPositions().get(tab.id)?.left ?? 60) + 'px'"
    [windowWidth]="tab.maximized ? maximizedWindowProps().width : (windowPositions().get(tab.id)?.width ?? 1000) + 'px'"
    [windowHeight]="tab.maximized ? maximizedWindowProps().height : (windowPositions().get(tab.id)?.height ?? 620) + 'px'"
    [windowZIndex]="tab.maximized ? 999 : tab.zIndex"
    [maximized]="tab.maximized"
    [visible]="tab.open && !tab.minimized"
    (minimize)="navigationService.toggleMinimize(tab.id)"
    (maximize)="navigationService.maximizeTab(tab.id)"
    (close)="navigationService.closeTab(tab.id)"
    (focus)="navigationService.setActiveTab(tab.id)">
    @switch (tab.id) {
      @case ('terminal') {
        <app-terminal></app-terminal>
      }
      @case ('about') {
        <app-about></app-about>
      }
      @case ('skills') {
        <app-skills></app-skills>
      }
      @case ('projects') {
        <app-projects></app-projects>
      }
      @case ('contact') {
        <app-contact></app-contact>
      }
    }
  </app-window>
}


<router-outlet></router-outlet>
