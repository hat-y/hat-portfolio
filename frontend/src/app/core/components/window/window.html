<div class="window-component"
     [attr.aria-label]="getAriaLabel()"
     role="dialog"
     [attr.aria-modal]="maximized"
     tabindex="-1"
     (click)="onFocus()"
     [class.active-window]="isActive()">

  <!-- Window Header - FUERA del body para que no tenga borde beige -->
  <div class="window-header">
    <div class="title-bar">
      <span *ngIf="icon" class="window-icon" aria-hidden="true">{{ icon }}</span>
      <div class="window-title">
        <span>{{ title }}</span>
      </div>

      <div class="window-controls">
        <button *ngIf="canMinimize"
                class="btn-retro minimize-btn"
                (click)="onMinimize(); $event.stopPropagation()"
                (keydown.enter)="onMinimize(); $event.stopPropagation()"
                (keydown.space)="onMinimize(); $event.stopPropagation()"
                aria-label="Minimize window"
                title="Minimize"
                type="button">
          <span aria-hidden="true">−</span>
        </button>

        <button *ngIf="canMaximize"
                class="btn-retro maximize-btn"
                (click)="onMaximize(); $event.stopPropagation()"
                (keydown.enter)="onMaximize(); $event.stopPropagation()"
                (keydown.space)="onMaximize(); $event.stopPropagation()"
                [attr.aria-label]="maximized ? 'Restore window' : 'Maximize window'"
                [title]="maximized ? 'Restore' : 'Maximize'"
                type="button">
          <span aria-hidden="true">{{ maximized ? '□' : '■' }}</span>
        </button>

        <button *ngIf="canClose"
                class="btn-retro close-btn"
                (click)="onClose(); $event.stopPropagation()"
                (keydown.enter)="onClose(); $event.stopPropagation()"
                (keydown.space)="onClose(); $event.stopPropagation()"
                aria-label="Close window"
                title="Close"
                type="button">
          <span aria-hidden="true">×</span>
        </button>
      </div>
    </div>
  </div>

  <!-- Window Body - SOLO el contenido con bordes beige -->
  <div class="window-body">
    <!-- Window Content -->
    <div class="window-content">
      <ng-content></ng-content>
    </div>
  </div>
</div>